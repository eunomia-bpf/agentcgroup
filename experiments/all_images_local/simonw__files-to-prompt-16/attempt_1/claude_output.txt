
=== GIT DIFF ===
diff --git a/README.md b/README.md
index 5d2359a..4a1d770 100644
--- a/README.md
+++ b/README.md
@@ -43,6 +43,11 @@ This will output the contents of every file, with each file preceded by its rela
   files-to-prompt path/to/directory --ignore "*.log" --ignore "temp*"
   ```
 
+- `--xml`: Output in XML format with `<documents>` wrapper. This helps structure the output for Claude's long context window.
+  ```bash
+  files-to-prompt path/to/directory --xml
+  ```
+
 ### Example
 
 Suppose you have a directory structure like this:
@@ -101,6 +106,22 @@ Contents of file3.txt
 ---
 ```
 
+If you run `files-to-prompt my_directory --xml`, the output will be in XML format:
+
+```xml
+<documents>
+<document path="my_directory/file1.txt">
+Contents of file1.txt
+</document>
+<document path="my_directory/file2.txt">
+Contents of file2.txt
+</document>
+<document path="my_directory/subdirectory/file3.txt">
+Contents of file3.txt
+</document>
+</documents>
+```
+
 ## Development
 
 To contribute to this tool, first checkout the code. Then create a new virtual environment:
diff --git a/files_to_prompt/cli.py b/files_to_prompt/cli.py
index afba856..cb52044 100644
--- a/files_to_prompt/cli.py
+++ b/files_to_prompt/cli.py
@@ -1,6 +1,7 @@
 import os
 import click
 from fnmatch import fnmatch
+from xml.sax.saxutils import escape
 
 
 def should_ignore(path, gitignore_rules):
@@ -23,17 +24,24 @@ def read_gitignore(path):
 
 
 def process_path(
-    path, include_hidden, ignore_gitignore, gitignore_rules, ignore_patterns
+    path, include_hidden, ignore_gitignore, gitignore_rules, ignore_patterns, xml=False
 ):
     if os.path.isfile(path):
         try:
             with open(path, "r") as f:
                 file_contents = f.read()
-            click.echo(path)
-            click.echo("---")
-            click.echo(file_contents)
-            click.echo()
-            click.echo("---")
+            if xml:
+                escaped_path = escape(path)
+                escaped_contents = escape(file_contents)
+                click.echo(f'<document path="{escaped_path}">')
+                click.echo(escaped_contents)
+                click.echo('</document>')
+            else:
+                click.echo(path)
+                click.echo("---")
+                click.echo(file_contents)
+                click.echo()
+                click.echo("---")
         except UnicodeDecodeError:
             warning_message = f"Warning: Skipping file {path} due to UnicodeDecodeError"
             click.echo(click.style(warning_message, fg="red"), err=True)
@@ -69,11 +77,18 @@ def process_path(
                     with open(file_path, "r") as f:
                         file_contents = f.read()
 
-                    click.echo(file_path)
-                    click.echo("---")
-                    click.echo(file_contents)
-                    click.echo()
-                    click.echo("---")
+                    if xml:
+                        escaped_path = escape(file_path)
+                        escaped_contents = escape(file_contents)
+                        click.echo(f'<document path="{escaped_path}">')
+                        click.echo(escaped_contents)
+                        click.echo('</document>')
+                    else:
+                        click.echo(file_path)
+                        click.echo("---")
+                        click.echo(file_contents)
+                        click.echo()
+                        click.echo("---")
                 except UnicodeDecodeError:
                     warning_message = (
                         f"Warning: Skipping file {file_path} due to UnicodeDecodeError"
@@ -100,8 +115,13 @@ def process_path(
     default=[],
     help="List of patterns to ignore",
 )
+@click.option(
+    "--xml",
+    is_flag=True,
+    help="Output in XML format with <documents> wrapper",
+)
 @click.version_option()
-def cli(paths, include_hidden, ignore_gitignore, ignore_patterns):
+def cli(paths, include_hidden, ignore_gitignore, ignore_patterns, xml):
     """
     Takes one or more paths to files or directories and outputs every file,
     recursively, each one preceded with its filename like this:
@@ -122,5 +142,13 @@ def cli(paths, include_hidden, ignore_gitignore, ignore_patterns):
         if not ignore_gitignore:
             gitignore_rules.extend(read_gitignore(os.path.dirname(path)))
         process_path(
-            path, include_hidden, ignore_gitignore, gitignore_rules, ignore_patterns
+            path, include_hidden, ignore_gitignore, gitignore_rules, ignore_patterns, xml
         )
+
+    if xml:
+        click.echo("<documents>")
+        for path in paths:
+            process_path(
+                path, include_hidden, ignore_gitignore, gitignore_rules, ignore_patterns, True
+            )
+        click.echo("</documents>")
=== DISK USAGE ===
1	/testbed
